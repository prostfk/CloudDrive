<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8"/>
    <title>Welcome</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway"/>
    <link rel="stylesheet" type="text/css" href="/resources/css/animate.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

    <style>
        body, h1, h2, h3, h4, h5 {
            font-family: "Raleway", sans-serif
        }
    </style>
</head>
<body class="w3-light-grey animated fadeIn">

<div class="w3-content" style="width: 2000px;">
    <div class="w3-card-4 w3-white" style="max-width: 55%;margin: 2% auto auto;border-radius: 7px;">
        <header class="w3-container w3-center w3-padding-32">
            <h1><b>It News</b></h1>
            <p>Welcome to it news! You can create <span class="w3-tag">your account</span> below in form</p>
        </header>

        <div style="margin: 10px;text-align: center">
            <form th:action="@{/registration}" th:object="${user}" method="post">

                <input class="w3-input" value="" placeholder="username" type="text" onkeyup="checkUserInDataBase()" th:field="*{username}"
                       id="username"/>
                <span style="float: right;" id="dataUsername"></span>


                <input class="w3-input" type="password" placeholder="password" onkeyup="doAjax()" th:field="*{password}"
                       id="password"/>
                <span style="float: right;" id="dataPassword"></span>

                <input class="w3-input" type="password" placeholder="confirm password" th:field="*{confirmPassword}"
                       id="againPassword"/>


                <button class="w3-btn w3-white w3-border w3-border-blue w3-round" style=";margin-top:2%;" type="submit">
                    Create account
                </button>
            </form>

        </div>
        <br/>
        <br/>
    </div>

</div>

<script>
    function doAjax() {
        $.ajax({
            url: 'checkPassword',
            data: ({password: $('#password').val()}),
            success: function (data) {
                $('#dataPassword').html(data)
            }
        });
    }
    function checkUserInDataBase() {
        $.ajax({
           url:'checkUser',
           data: ({username: $('#username').val()}),
           success: function (data) {
               $('#dataUsername').html(data)
           }
        });
    }

</script>

</body>
</html>